# Output Columns for pbs-bulk-monitor and psutil-monitor

This document describes the meaning of each column produced by the monitoring scripts in both their terminal output and CSV exports.

## pbs-bulk-user-stats / slurm-bulk-user-stats

### Terminal columns
- **JOBID**: Scheduler job identifier.
- **STATE**: Current job state (e.g. `R` for running, `Q` for queued, `F` for finished).
- **NAME**: Job name as supplied to the scheduler.
- **NODES**: Comma-separated list of execution hosts if known.
- **NCPUS**: Number of CPU cores requested for the job.
- **NGPUS**: Number of GPUs requested for the job (if specified).
- **WALL(h)**: Elapsed wallclock time in hours.
- **CPUT(h)**: Total CPU time summed over all cores in hours.
- **avgCPU**: Average number of cores actively used (`CPUT / WALL`).
- **CPUeff**: CPU efficiency, ratio of `avgCPU` to `NCPUS`.
- **memUsed**: Peak resident memory used by the job (PBS reports sample-based maxima; Slurm reports MaxRSS).
- **memReq**: Memory requested at submission.
- **memEff**: Memory efficiency, `memUsed / memReq`.

### CSV columns
- **jobid**: Scheduler job identifier.
- **name**: Job name.
- **state**: Job state.
- **nodes**: Execution hosts.
- **ncpus**: Requested CPU cores.
- **ngpus**: Requested GPUs (if reported by the scheduler).
- **wall_s**: Wallclock runtime in seconds.
- **cput_s**: Total CPU time in seconds.
- **avg_used_cpus**: Average busy cores over the job (`cput_s / wall_s`).
- **cpu_eff**: CPU efficiency ratio (`avg_used_cpus / ncpus`, 0–1).
- **used_mem_b**: Memory used in bytes.
- **used_mem_gb**: Memory used in gigabytes.
- **req_mem_b**: Memory requested in bytes.
- **req_mem_gb**: Memory requested in gigabytes.
- **mem_eff**: Memory efficiency (`used_mem_b / req_mem_b`).
- **used_vmem_b**: Virtual memory used in bytes (PBS only).
- **used_vmem_gb**: Virtual memory used in gigabytes (PBS only).
- **req_vmem_b**: Requested virtual memory in bytes (PBS only).
- **req_vmem_gb**: Requested virtual memory in gigabytes (PBS only).
- **vmem_eff**: Virtual memory efficiency (`used_vmem_b / req_vmem_b`) (PBS only).

## psutil-monitor

### Terminal columns
- **Timestamp**: ISO timestamp of the sample.
- **CPU %**: CPU usage percentage relative to the chosen CPU basis.
- **busyCPUs**: Number of CPU cores effectively busy during the interval.
- **provided**: CPU basis used for percentages (typically available cores).
- **MEM %**: Memory usage percentage relative to the chosen memory basis.
- **used**: Bytes of memory currently used, rendered in human-readable form. (Total-Available)
- **total**: Total memory corresponding to the basis.
- **procs**: (proc mode only) number of processes included in the measurement.
- **GPU util**: Average GPU utilization across visible devices (requires `--gpu` and NVML).
- **busyGPUs**: Sum of GPU utilization ratios (e.g., two GPUs at 50% each → 1.0 busy GPUs).
- **GPU mem %**: Aggregate GPU memory usage percentage.

### CSV columns
- **ts**: Sample timestamp (ISO format).
- **mode**: Monitoring mode (`system` or `proc`).
- **cpu_percent**: CPU usage percentage.
- **busy_cpus**: Busy core equivalents over the sample.
- **mem_percent**: Memory usage percentage.
- **mem_used_bytes**: Memory used (Total-Available) in bytes.
- **mem_used_gb**: Memory used (Total-available) in gigabytes.
- **proc_count**: Process count (blank in `system` mode).
- **provided_cpus**: CPU basis for percentages.
- **provided_mem_bytes**: Memory basis in bytes.
- **provided_mem_gb**: Memory basis in gigabytes.
- **gpu_busy**: Busy GPU equivalents (sum of utilization fractions) (present when `--gpu` is used).
- **gpu_util_avg_pct**: Mean utilization across visible GPUs.
- **gpu_mem_percent**: Aggregate GPU memory usage percentage.
- **gpu_mem_used_bytes**: Aggregate GPU memory used.
- **gpu_mem_total_bytes**: Aggregate GPU memory total.
- **gpu_pergpu**: Per-GPU breakdown `index:util%/used/total`.
